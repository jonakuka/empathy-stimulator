<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Empathy Simulator</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="logo">Empathy Simulator</div>
      <ul class="nav-links">
        <li><a href="empathy_simulator.html">Simulator</a></li>
        <li><a href="empathy_quiz.php">Quiz</a></li>
        <li><a href="anonymous_advice_wall.php">Advice Wall</a></li>
        <li><a href="art_gallery.php">Empathy Art</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <h1>Walk in Someone Else's Shoes</h1>

    <label for="scenarioSelect">Choose a story:</label>
    <select id="scenarioSelect" aria-label="Choose a story">
      <option value="" disabled selected>Select a scenario</option>
      <option value="homeless">A Day as a Homeless Teen</option>
      <option value="blind">Navigating Life Without Sight</option>
    </select>
    <button id="startBtn">Start Simulation</button>

    <section id="simulator" aria-live="polite">
      <img id="stepImage" alt="Scene Image" />
      <p id="storyText"></p>
      <div id="options"></div>
    </section>
  </main>

  <script>
    const scenarios = {
      homeless: {
        steps: {
          1: {
            text: "You wake up in a cold, empty alley. You have nowhere to go and no one to rely on.",
            image: "https://via.placeholder.com/600x400?text=Alley+Morning",
            options: [
              { text: "Look for food nearby", nextStep: 2 },
              { text: "Try to find a shelter", nextStep: 3 }
            ]
          },
          2: {
            text: "You find a small bakery. The smell is tempting, but you have no money.",
            image: "https://via.placeholder.com/600x400?text=Bakery",
            options: [
              { text: "Ask for leftover bread", nextStep: 4 },
              { text: "Keep searching the streets", nextStep: 5 }
            ]
          },
          3: {
            text: "You find a community shelter, but it is full.",
            image: "https://via.placeholder.com/600x400?text=Full+Shelter",
            options: [
              { text: "Wait outside and hope for a spot", nextStep: 5 },
              { text: "Look for another place", nextStep: 2 }
            ]
          },
          4: {
            text: "The baker kindly gives you some leftover bread. You feel a bit hopeful.",
            image: "https://via.placeholder.com/600x400?text=Kind+Baker",
            options: [
              { text: "Eat the bread here", nextStep: 6 },
              { text: "Save it for later", nextStep: 6 }
            ]
          },
          5: {
            text: "The streets are tough and you feel cold and hungry.",
            image: "https://via.placeholder.com/600x400?text=Cold+Street",
            options: [
              { text: "Keep trying to find shelter", nextStep: 3 },
              { text: "Ask a passerby for help", nextStep: 6 }
            ]
          },
          6: {
            text: "You realize how hard life is without a stable home. Stay strong and keep hope.",
            image: "https://via.placeholder.com/600x400?text=Hope",
            options: []
          }
        }
      },
      blind: {
        steps: {
          1: {
            text: "You wake up in your room but can't see anything. You need to get ready for the day.",
            image: "https://via.placeholder.com/600x400?text=Dark+Room",
            options: [
              { text: "Try to find your cane", nextStep: 2 },
              { text: "Call a friend for help", nextStep: 3 }
            ]
          },
          2: {
            text: "You find your cane and start feeling your way to the door.",
            image: "https://via.placeholder.com/600x400?text=Cane",
            options: [
              { text: "Navigate to the kitchen", nextStep: 4 },
              { text: "Stay inside and listen to music", nextStep: 5 }
            ]
          },
          3: {
            text: "Your friend answers and offers to come over later.",
            image: "https://via.placeholder.com/600x400?text=Phone+Call",
            options: [
              { text: "Wait for your friend", nextStep: 5 },
              { text: "Try to move around on your own", nextStep: 2 }
            ]
          },
          4: {
            text: "You reach the kitchen and start making breakfast with your other senses.",
            image: "https://via.placeholder.com/600x400?text=Kitchen",
            options: [
              { text: "Try to pour cereal carefully", nextStep: 6 },
              { text: "Make coffee instead", nextStep: 6 }
            ]
          },
          5: {
            text: "Listening to music helps calm you, but you want to be independent.",
            image: "https://via.placeholder.com/600x400?text=Music",
            options: [
              { text: "Practice using your cane", nextStep: 2 },
              { text: "Call your friend again", nextStep: 3 }
            ]
          },
          6: {
            text: "You feel proud of your independence and strength.",
            image: "https://via.placeholder.com/600x400?text=Proud",
            options: []
          }
        }
      }
    };

    let currentScenario = null;
    let currentStep = null;

    const scenarioSelect = document.getElementById("scenarioSelect");
    const startBtn = document.getElementById("startBtn");
    const simulator = document.getElementById("simulator");
    const stepImage = document.getElementById("stepImage");
    const storyText = document.getElementById("storyText");
    const optionsDiv = document.getElementById("options");

    startBtn.addEventListener("click", () => {
      const selected = scenarioSelect.value;
      if (!selected) {
        alert("Please select a scenario first.");
        return;
      }
      currentScenario = scenarios[selected];
      currentStep = 1;
      simulator.style.display = "block";
      showStep(currentStep);
    });

    function showStep(stepNumber) {
      const step = currentScenario.steps[stepNumber];
      if (!step) return;

      stepImage.src = step.image || "";
      stepImage.style.display = step.image ? "block" : "none";
      storyText.textContent = step.text;
      optionsDiv.innerHTML = "";

      if (step.options.length === 0) {
        const endMsg = document.createElement("p");
        endMsg.textContent = "The End. Thank you for trying to understand another person's experience.";
        endMsg.className = "end-message";
        optionsDiv.appendChild(endMsg);
        return;
      }

      step.options.forEach(option => {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.textContent = option.text;
        btn.addEventListener("click", () => {
          currentStep = option.nextStep;
          showStep(currentStep);
        });
        optionsDiv.appendChild(btn);
      });
    }
  </script>
</body>
</html>
